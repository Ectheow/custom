

(define-record-type <ssh>
  (make-ssh hostname subprocess)
  ssh?
  (subprocess ssh-subprocess))

(define (ssh-to hostname [ssh-key #false] [password #false])
  (cond
   ((not (false? password))
    (ssh-to-password hostname))
   (else
    (ssh-to-key ssh-key))))

		
  
